(this["webpackJsonpfirestone-crud-react"]=this["webpackJsonpfirestone-crud-react"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(15),i=c.n(a),s=(c(23),c.p,c(24),c(9)),o=c(8),d=c.n(o),l=c(12),u=c(14),j=c(13),b=c(7),p=c(18),f=(c(31),p.a.initializeApp({apiKey:"AIzaSyB3LVRrTJToE7Yoj91k7gGdftQpClCvUw4",authDomain:"fb-crud-react-82d63.firebaseapp.com",projectId:"fb-crud-react-82d63",storageBucket:"fb-crud-react-82d63.appspot.com",messagingSenderId:"285618674049",appId:"1:285618674049:web:d90d492570d30f0c063080"}).firestore()),m=c(2),O=function(e){var t,c,r={url:"",name:"",description:""},a=Object(n.useState)(r),i=Object(u.a)(a,2),o=i[0],j=i[1],p=function(e){var t=e.target,c=t.name,n=t.value;j(Object(s.a)(Object(s.a)({},o),{},Object(b.a)({},c,n)))},O=function(){var e=Object(l.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("links").doc(t).get();case 2:c=e.sent,j(Object(s.a)({},c.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""===e.currentId?j(Object(s.a)({},r)):O(e.currentId)}),[e.currentId]),Object(m.jsxs)("form",{className:"card card-body",onSubmit:function(t){t.preventDefault(),e.addOrEditLink(o),j(Object(s.a)({},r))},children:[Object(m.jsxs)("div",{className:"form-group input-group",children:[Object(m.jsx)("div",{className:"input-group-text bg-light",children:Object(m.jsx)("i",{className:"material-icons",children:"insert_link"})}),Object(m.jsx)("input",{onChange:p,type:"text",className:"form-control",placeholder:"https://someurl.com",name:"url",value:o.url})]}),Object(m.jsxs)("div",{className:"form-group input-group",children:[Object(m.jsx)("div",{className:"input-group-text bg-light",children:Object(m.jsx)("i",{className:"material-icons",children:"create"})}),Object(m.jsx)("input",(t={onChange:p,type:"text",className:"form-control",placeholder:"name"},Object(b.a)(t,"placeholder","Website name"),Object(b.a)(t,"name","name"),Object(b.a)(t,"value",o.name),t))]}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("textarea",(c={onChange:p,className:"description",rows:"3"},Object(b.a)(c,"className","form-control"),Object(b.a)(c,"placeholder","Write a description"),Object(b.a)(c,"name","description"),Object(b.a)(c,"value",o.description),c))}),Object(m.jsx)("button",{className:"btn btn-primary btn-block",children:""===e.currentId?"Save":"Update"})]})},h=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),i=Object(u.a)(a,2),o=i[0],b=i[1],p=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==o){e.next=7;break}return console.log(t),e.next=4,f.collection("links").doc().set(t);case 4:Object(j.b)("New link added",{type:"success"}),e.next=11;break;case 7:return e.next=9,f.collection("links").doc(o).update(t);case 9:Object(j.b)("Link updated",{type:"info"}),b("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this link?")){e.next=4;break}return e.next=3,f.collection("links").doc(t).delete();case 3:Object(j.b)("Link removed",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.collection("links").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(s.a)(Object(s.a)({},e.data()),{},{id:e.id}))})),r(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"col-md-16 p-2",children:Object(m.jsx)(O,{addOrEditLink:p,currentId:o,links:c})}),Object(m.jsx)("div",{className:"col-md-16 p-2",children:c.map((function(e){return Object(m.jsx)("div",{className:"card mb-1",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsxs)("div",{children:[Object(m.jsx)("i",{className:"material-icons text-danger",onClick:function(){return h(e.id)},children:"close"}),Object(m.jsx)("i",{className:"material-icons",onClick:function(){return b(e.id)},children:"create"})]})]}),Object(m.jsx)("p",{children:e.description}),Object(m.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Go to website"})]})},e.id)}))})]})};c(28);var x=function(){return Object(m.jsxs)("div",{className:"container p-4",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)(h,{})}),Object(m.jsx)(j.a,{})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,32)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};c(29);i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),v()}},[[30,1,2]]]);
//# sourceMappingURL=main.d2073ba9.chunk.js.map